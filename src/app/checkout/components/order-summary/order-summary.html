<div class="bg-white rounded-lg shadow-lg p-6 sticky top-8">
  <h2 class="text-2xl font-bold text-primary mb-6">Resumen del pedido</h2>

  <div class="space-y-4 mb-6">
    @for (item of cartService.cartItems(); track item.flower._id) {
      <article class="flex gap-3">
        <img
          [src]="item.flower.images[0]"
          [alt]="item.flower.name"
          class="w-16 h-16 object-cover rounded-lg"
        />

        <div class="flex-1">
          <h3 class="font-semibold text-sm line-clamp-1">
            {{ item.flower.name }}
          </h3>
          <p class="text-sm text-text/70">
            {{ item.flower.price | currency: 'EUR' }} × {{ item.quantity }}
          </p>
        </div>

        <span class="font-bold text-primary">
          {{ item.flower.price * item.quantity | currency: 'EUR' }}
        </span>
      </article>
    }
  </div>

  <div class="divider"></div>

  <div class="space-y-2 mb-6">
    <div class="flex justify-between text-text">
      <span>Subtotal:</span>
      <span class="font-semibold">{{ cartService.cartTotal() | currency: 'EUR' }}</span>
    </div>
    <div class="flex justify-between text-success">
      <span class="mt-2">Envío: </span>

      <span class="font-semibold flex items-center gap-1">
        <span aria-hidden="true">
          <app-bikes-icon [size]="45" [color]="'currentColor'" />
        </span>
        Gratis
      </span>
    </div>
  </div>

  <div class="divider"></div>

  <div class="flex justify-between text-2xl font-bold text-primary">
    <span>TOTAL:</span>
    <span>{{ cartService.cartTotal() | currency: 'EUR' }}</span>
  </div>

  <div class="mt-6 p-4 bg-success/5 rounded-lg border border-success/20">
    <p class="text-sm text-success flex items-center gap-2">
      <span aria-hidden="true">✓</span>
      <span>Recuerda, el envío es ecológico y gratis, sólo para la ciudad de Barcelona.</span>
    </p>
  </div>
</div>
