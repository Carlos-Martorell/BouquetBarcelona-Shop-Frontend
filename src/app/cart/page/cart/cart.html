
<div class="container mx-auto px-4 py-8 max-w-4xl">
  

  <header class="mb-8">
    <h1 class="text-4xl font-display font-bold text-primary mb-2">
      Cesta
    </h1>
  </header>


  @if (cartService.cartItems().length === 0) {
    <div class="text-center py-20">
      <span class="text-6xl mb-4 block">üõí</span>
      <p class="text-2xl text-text/50 mb-6">Tu cesta est√° vac√≠a</p>
      <button (click)="goBack()" class="btn btn-primary">
        Ver productos
      </button>
    </div>
  }


  @if (cartService.cartItems().length > 0) {
    <div class="space-y-4 mb-8">
      @for (item of cartService.cartItems(); track item.flower._id) {
        <app-cart-item 
          [item]="item"
          (quantityChange)="onQuantityChange($event)"
          (remove)="onRemoveItem($event)"
        />
      }
    </div>

    <!-- Summary -->
    <div class="bg-base-200 rounded-lg p-6 border border-border">
      <div class="space-y-2 mb-4">
        <div class="flex justify-between text-text">
          <span>Subtotal:</span>
          <span class="font-semibold">{{ cartService.cartTotal() | currency:'EUR' }}</span>
        </div>
        <div class="flex justify-between text-text">
          <span>Env√≠o gratuito gracias a nuestro servicio 100% ecol√≥gico.</span>
        </div>
      </div>

      <div class="divider"></div>

      <div class="flex justify-between text-xl font-bold text-primary mb-6">
        <span>TOTAL:</span>
        <span>{{ cartService.cartTotal() | currency:'EUR' }}</span>
      </div>

      <!-- Actions -->
      <div class="flex gap-4">
        <button (click)="goBack()" class="btn btn-ghost flex-1">
          ‚Üê Seguir comprando
        </button>
        <button (click)="onCheckout()" class="btn btn-primary flex-1">
          Finalizar compra ‚Üí
        </button>
      </div>

      <button (click)="onClearCart()" class="btn btn-ghost btn-sm w-full mt-4 text-error">
        Vaciar carrito
      </button>
    </div>
  }

</div>